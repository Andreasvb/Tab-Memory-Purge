# Tab Memory Purge
Google Chrome用のタブ拡張機能です。  

設定した条件にそって、使用していないタブのメモリを解放します。  
なお、HTTPSプロトコルを使用しているサイト以外で動作します。   

## 注意事項
Chrome側の仕様により、拡張機能のリロード・更新時に拡張機能で休止したタブが自動で閉じられてしまいます。
対処方としては、ブラウザアクション(ツールバーのこの拡張機能のアイコン)を左クリックし、復元ボタンを押すことで閉じられたタブを復元することができます。
これを回避したい場合、オプションページにて「解放時に使用するページ」項目を「URL」に設定すると、復元する必要はなくなりますが、拡張機能のリロード・更新時に休止タブを選択しても復元されません。「戻る」ボタンで戻ってください。
Chromeの仕様では、chrome.tabs.create関数やchrome.tabs.update関数で作成・新したタブのアドレスが外部のアドレスなら外部のタブとして管理され、拡張機能内のアドレス(オプションページ)なら拡張機能のタブとして管理され、更新時・リロード時には後者が自動で閉じられます。

## 設定可能項目
- 解放時に使用するページ
    - デフォルト設定では、休止されたタブが拡張機能更新時に閉じられてしまいます。ツールバーのアイコンから解放ボタンを選択して復元することができます。
- 非アクティブのタブをアンロードする時間
    - 前回アクティブになった時間から設定した時間が過ぎると、メモリを解放します。
- 除外するアドレス(正規表現対応)
    - メモリを解放されては困るサイト(動画サイト)などを指定することができます。
    
## 簡単な仕様
- タブごとにsetIntervalを設定し、指定したアンロード時間ごとにアンロードするか否かを判断。
- タブをアクティブにすると、時間はリセット。
- アンロードする場合、空ページを読み込み、メモリを解放します。
- この時に使用する空ページは拡張機能のパッケージ内部に含まれています。
- 設定タブでは、項目を選択・入力後、そのまま設定タブ閉じると設定が反映されません。一度何もないところをクリックし、項目が選択されていない状態(黄色い枠がない状態)にすると、設定が確定されます。これは、onchangeイベントによる仕様です。